# Äá» tÃ i phÃ¡t triá»ƒn pháº§n má»m web an toÃ n.
+ MÃ´n há»c: PhÃ¡t triá»ƒn pháº§n má»m Web an toÃ n.
+ TÃªn Ä‘á» tÃ i: PhÃ¡t triá»ƒn website bÃ¡n sÃ¡ch trá»±c tuyáº¿n vá»›i cÃ¡c biá»‡n phÃ¡p báº£o máº­t.
+ Giáº£ng viÃªn hÆ°á»›ng dáº«n: ThS. PhÆ°Æ¡ng VÄƒn Cáº£nh.
+ Lá»›p: D17CNPM1.

# Giá»›i thiá»‡u tá»•ng quan Ä‘á» tÃ i: 
 Website bÃ¡n sÃ¡ch trong dá»± Ã¡n nÃ y Ä‘Æ°á»£c nhÃ³m em xÃ¢y dá»±ng theo Ä‘á»‹nh hÆ°á»›ng phÃ¡t triá»ƒn web an toÃ n, chÃº trá»ng báº£o vá»‡ dá»¯ liá»‡u vÃ  ngÆ°á»i dÃ¹ng ngay tá»« khÃ¢u thiáº¿t káº¿. Há»‡ thá»‘ng Ä‘Ã£ triá»ƒn khai chÃ­nh sÃ¡ch báº£o máº­t vÃ  nÃ¢ng cao nháº­n thá»©c an toÃ n thÃ´ng tin, sá»­ dá»¥ng Cloudflare Ä‘á»ƒ thiáº¿t láº­p WAF, chá»‘ng cÃ¡c lá»— há»•ng báº£o máº­t phá»• biáº¿n vÃ  Ä‘áº£m báº£o website hoáº¡t Ä‘á»™ng trÃªn giao thá»©c HTTPS vá»›i chá»©ng chá»‰ SSL há»£p lá»‡. á»¨ng dá»¥ng vÃ  cÃ¡c thÃ nh pháº§n liÃªn quan Ä‘Æ°á»£c cáº­p nháº­t pháº§n má»m vÃ  plugin Ä‘á»‹nh ká»³ nháº±m háº¡n cháº¿ rá»§i ro tá»« cÃ¡c lá»— há»•ng Ä‘Ã£ biáº¿t. Website cÃ³ cÆ¡ cháº¿ kiá»ƒm tra vÃ  xÃ¡c thá»±c dá»¯ liá»‡u Ä‘áº§u vÃ o, káº¿t há»£p vá»›i quáº£n lÃ½, phÃ¢n quyá»n ngÆ°á»i dÃ¹ng rÃµ rÃ ng Ä‘á»ƒ ngÄƒn cháº·n truy cáº­p trÃ¡i phÃ©p. NgoÃ i ra, há»‡ thá»‘ng cÃ²n tá»± Ä‘á»™ng ghi log hoáº¡t Ä‘á»™ng, há»— trá»£ giÃ¡m sÃ¡t vÃ  phÃ¡t hiá»‡n sá»± cá»‘, Ä‘á»“ng thá»i xÃ¢y dá»±ng káº¿ hoáº¡ch sao lÆ°u vÃ  phá»¥c há»“i dá»¯ liá»‡u nháº±m Ä‘áº£m báº£o tÃ­nh sáºµn sÃ ng vÃ  an toÃ n cho toÃ n bá»™ há»‡ thá»‘ng.

# Sinh viÃªn thá»±c hiá»‡n:

ğŸ‘¦ Pháº¡m BÃ¡ HoÃ ng - MÃ£ sinh viÃªn: 22810310196
+ CÃ´ng viá»‡c thá»±c hiá»‡n: 
 + Thiáº¿t láº­p tÆ°á»ng lá»­a (WAF) vÃ  chá»‘ng cÃ¡c báº£o máº­t phá»• biáº¿n qua Cloudflare
 + Viáº¿t mÃ£ validation, thÃ´ng tin Ä‘áº§u vÃ o Ä‘á»ƒ báº£o máº­t.
 + Quáº£n lÃ½ vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.
 + Thiáº¿t láº­p há»‡ thá»‘ng ghi log tá»± Ä‘á»™ng.
 + LÃªn káº¿ hoáº¡ch sao lÆ°u vÃ  phá»¥c há»“i dá»¯ liá»‡u.
 + Cáº­p nháº­t á»©ng dá»¥ng vÃ  plugin.
 + ChÃ­nh sÃ¡ch báº£o máº­t vÃ  nÃ¢ng cao nháº­n thá»©c.
 + Thu tháº­p vÃ  soáº¡n thÃ´ng tin cho bÃ¡o cÃ¡o.
 + Cáº­p nháº­p pháº§n má»m Ä‘á»‹nh ká»³.
 + Code backend vÃ  frontend.

ğŸ‘©â€ğŸ¦° Nguyá»…n Hiá»n Mai - MÃ£ sinh viÃªn: 22810310091
+ CÃ´ng viá»‡c thá»±c hiá»‡n: 
 + Thu tháº­p vÃ  soáº¡n thÃ´ng tin cho bÃ¡o cÃ¡o.
 + LÃ m bÃ¡o cÃ¡o.
 + ChÃ­nh sÃ¡ch báº£o máº­t vÃ  nÃ¢ng cao nháº­n thá»©c.
 + Cáº­p nháº­p pháº§n má»m Ä‘á»‹nh ká»³.
 + Cáº­p nháº­t á»©ng dá»¥ng vÃ  plugin.
 + Káº¿ hoáº¡ch sao lÆ°u vÃ  phá»¥c há»“i dÆ° liá»‡u.
 + Code frontend.

# Ná»™i dung yÃªu cáº§u cá»§a mÃ´n há»c vÃ  káº¿t quáº£ Ä‘Ã£ Ä‘áº¡t, khi thá»±c hiá»‡n cÃ¡c yÃªu cáº§u Ä‘Ã³ cá»§a nhÃ³m.
# âœ… Dáº¥u tÃ­ch xanh thá»ƒ hiá»‡n cÃ¡c yÃªu cáº§u mÃ  nhÃ³m Ä‘Ã£ hoÃ n thiá»‡n theo Ä‘Ãºng yÃªu cáº§u cá»§a mÃ´n há»c.
+ ChÃ­nh sÃ¡ch báº£o máº­t vÃ  nÃ¢ng cao nháº­n thá»©c.âœ…

+ Thiáº¿t láº­p WAF vÃ  chá»‘ng cÃ¡c báº£o máº­t phá»• biáº¿n qua Cloudflare( Website pháº£i cÃ³ chá»©ng chá»‰ SSL).âœ…

+ Cáº­p nháº­t pháº§n má»m Ä‘á»‹nh ká»³.âœ…

+ Cáº­p nháº­p á»©ng dá»¥ng vÃ  plugin.âœ…

+ CÃ³ validation cho Ä‘áº§u vÃ o. âœ…

+ Quáº£n lÃ½ vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.âœ…

+ DÃ¹ng há»‡ thá»‘ng ghi log tá»± Ä‘á»™ng. âœ…

+ Káº¿ hoáº¡ch sao lÆ°u vÃ  phá»¥c há»“i dá»¯ liá»‡u. âœ…

# HÆ°á»›ng dáº«n sá»­ dá»¥ng mÃ£ nguá»“n vÃ  deploy lÃªn Website.
# a. Dá»‹ch vá»¥ vÃ  cÃ´ng nghá»‡ chÃ­nh mÃ  nhÃ³m em sá»­ dá»¥ng:
 + Tailway  : Triá»ƒn khai cÆ¡ sá»Ÿ dá»¯ liá»‡u MySQL.
 + Render   : Triá»ƒn khai mÃ£ nguá»“n backend lÃªn Internet vÃ  há»— trá»£ ghi log há»‡ thá»‘ng tá»± Ä‘á»™ng. (LÆ°u Ã½: Render cÃ³ cÆ¡ cháº¿ ngá»§ Ä‘Ã´ng khi khÃ´ng cÃ³ request trong 15 phÃºt, vÃ¬ váº­y láº§n truy cáº­p Ä‘áº§u tiÃªn cÃ³ thá»ƒ pháº£n há»“i cháº­m hÆ¡n bÃ¬nh thÆ°á»ng.)
 + Vinahost : Mua vÃ  quáº£n lÃ½ tÃªn miá»n (domain) cho website.
 + dataonline : Mua vÃ  sá»­ dá»¥ng dá»‹ch vá»¥ hosting Ä‘á»ƒ triá»ƒn khai mÃ£ nguá»“n frontend lÃªn Internet.
 + Cloudflare : Thiáº¿t láº­p tÆ°á»ng lá»­a á»©ng dá»¥ng web (WAF), báº£o vá»‡ website vÃ  háº¡n cháº¿ cÃ¡c cuá»™c táº¥n cÃ´ng tá»« bÃªn ngoÃ i.

# b. Thiáº¿t láº­p mÃ´i trÆ°á»ng cháº¡y dá»± Ã¡n trÃªn localhost:
 + B1: Sá»­ dá»¥ng mÃ£ nguá»“n cá»§a dá»± Ã¡n do nhÃ³m em triá»ƒn khai vÃ  quáº£n lÃ½ trÃªn GitHub.
 + B2: Táº¡o file .env vÃ  tham kháº£o file .env.example Ä‘á»ƒ thÃªm cÃ¡c biáº¿n mÃ´i trÆ°á»ng tÆ°Æ¡ng á»©ng vÃ o file .env trÆ°á»›c khi cháº¡y dá»± Ã¡n.
 + B3: Truy cáº­p vÃ o thÆ° má»¥c backend vÃ  frontend, sau Ä‘Ã³ cháº¡y lá»‡nh npm install Ä‘á»ƒ cÃ i Ä‘áº·t cÃ¡c thÆ° viá»‡n cáº§n thiáº¿t.
 + B4: Trong tá»«ng thÆ° má»¥c backend vÃ  frontend, cháº¡y lá»‡nh sau Ä‘á»ƒ khá»Ÿi Ä‘á»™ng dá»± Ã¡n trÃªn mÃ´i trÆ°á»ng localhost:
   Backend:
    + npm run dev (npm run start hoáº·c npm start)
    + HÃ¬nh áº£nh cháº¡y Ä‘Ãºng:

  <img width="1109" height="551" alt="image" src="https://github.com/user-attachments/assets/a39b1986-7760-4ee8-ad31-3ed7fbe853f7" />
  
   Frontend: 
    + npm run dev
    + HÃ¬nh áº£nh cháº¡y Ä‘Ãºng:

  <img width="935" height="460" alt="image" src="https://github.com/user-attachments/assets/05f741a4-61c3-4a84-b4db-fe1f87f76f5a" />
  
 + B5: Má»Ÿ trang web trÃªn localhost vá»›i frontend. => ( http://localhost:5173/)

 # c. Sá»­ dá»¥ng website mÃ  nhÃ³m em Ä‘Ã£ deploy dá»± Ã¡n lÃªn Internet: (https://foodietired.io.vn/)

 # d. TÃ i khoáº£n demo dá»± Ã¡n :
 + TÃ i khoáº£n admin : 
    + Email: lsponge2k4@gmail.com
    + Password: Hoang@123
 + TÃ i khoáº£n ngÆ°á»i dÃ¹ng: NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ tá»± Ä‘Äƒng kÃ½ tÃ i khoáº£n táº¡i trang Ä‘Äƒng kÃ½ cá»§a website. NgoÃ i ra, Ä‘á»ƒ thuáº­n tiá»‡n cho viá»‡c kiá»ƒm thá»­ nhanh, nhÃ³m em cung cáº¥p sáºµn má»™t tÃ i khoáº£n máº«u nhÆ° sau:
    + Email: john@gmail.com
    + Password: Hoang@123
 # e. Dá»¯ liá»‡u MYSQL Ä‘á»ƒ test dá»± Ã¡n: core/dump-bookstore_db-202512151424.sql.
    
 # Má»™t sá»‘ hÃ¬nh áº£nh káº¿t quáº£ cá»§a dá»± Ã¡n Ä‘Ã£ triá»ƒn khai:
 + ChÃ­nh sÃ¡ch báº£o máº­t vÃ  nÃ¢ng cao nháº­n thá»©c.âœ…
   HÃ¬nh áº£nh chÃ­nh sÃ¡ch báº£o máº­t:
   
   <img width="1899" height="868" alt="Screenshot 2025-12-19 195641" src="https://github.com/user-attachments/assets/010090ef-72b6-4488-8286-2e0d8a3fc4dc" />
   
   HÃ¬nh áº£nh Ä‘iá»u khoáº£n sá»­ dá»¥ng:
   
   <img width="1900" height="867" alt="Screenshot 2025-12-19 195653" src="https://github.com/user-attachments/assets/f0bcdfa8-cb42-487d-b3f3-bd794fcab1f7" />

 + Thiáº¿t láº­p WAF vÃ  chá»‘ng cÃ¡c báº£o máº­t phá»• biáº¿n qua Cloudflare( Website pháº£i cÃ³ chá»©ng chá»‰ SSL).âœ…
   HÃ¬nh áº£nh giao diá»‡n Cloudflare:
   
   <img width="1919" height="907" alt="image" src="https://github.com/user-attachments/assets/4c0a7d9b-12eb-453b-81de-c3f204e2977a" />
   
   HÃ¬nh áº£nh trang website cá»§a nhÃ³m Ä‘Ã£ cÃ³ chá»©ng chá»‰ SSL khi sá»­ dá»¥ng Cloudflare:
   
   <img width="1899" height="969" alt="Screenshot 2025-12-19 195716" src="https://github.com/user-attachments/assets/c59d7569-0c2f-44ad-8908-33a5ec44d2b8" />
   
   HÃ¬nh áº£nh cáº¥u hÃ¬nh tÆ°á»Ÿng lá»­a (WAF) trong Cloudflare:
   
   <img width="1919" height="910" alt="image" src="https://github.com/user-attachments/assets/4f42ce83-9e54-46ac-a618-e433b59e9131" />
   
   HÃ¬nh áº£nh mua vÃ  quáº£n lÃ½ tÃªn miá»n domain cho website trÃªn Vinahost website:
   
   <img width="1919" height="968" alt="Screenshot 2025-12-19 195824" src="https://github.com/user-attachments/assets/5d7d0454-c505-4a2b-be70-f3f15c1734f3" />
   
   HÃ¬nh áº£nh mua vÃ  triá»ƒn khai dá»‹ch vá»¥ hosting cho mÃ£ nguá»“n frontend trÃªn Internet:

   <img width="1919" height="969" alt="Screenshot 2025-12-19 195920" src="https://github.com/user-attachments/assets/2817db61-963f-436b-ba63-f2c4b90bd7ec" />
   
- **Má»™t sá»‘ hÃ¬nh áº£nh minh há»a WAF hoáº¡t Ä‘á»™ng**
  - XÃ¡c thá»±c ngÆ°á»i dÃ¹ng báº±ng **CAPTCHA** nháº±m ngÄƒn cháº·n bot vÃ  truy cáº­p tá»± Ä‘á»™ng.
    
    <img width="1919" height="922" alt="image" src="https://github.com/user-attachments/assets/90818e88-c919-42e2-b7ed-c9f708e8e314" />

  - Cháº·n truy cáº­p tá»« ngÆ°á»i dÃ¹ng **ngoÃ i khu vá»±c Viá»‡t Nam**.
    
    <img width="462" height="270" alt="image" src="https://github.com/user-attachments/assets/d989ea30-2233-442e-a030-8a118ee047de" />

  - Giá»›i háº¡n vÃ  cháº·n cÃ¡c IP gá»­i **quÃ¡ nhiá»u request trong má»™t khoáº£ng thá»i gian ngáº¯n** nháº±m phÃ²ng chá»‘ng táº¥n cÃ´ng brute-force vÃ  DDoS.
    
    <img width="520" height="216" alt="image" src="https://github.com/user-attachments/assets/e587e9dd-11e6-4603-8f6d-dd6600d90d54" />

 - **Cáº­p nháº­t pháº§n má»m Ä‘á»‹nh ká»³** âœ…  
  - Kiá»ƒm tra phiÃªn báº£n Node.js Ä‘ang sá»­ dá»¥ng:
    ```bash
    node -v
    ```
  - NÃ¢ng cáº¥p Node.js khi cáº§n thiáº¿t:
    - **CÃ¡ch 1:** CÃ i Ä‘áº·t trá»±c tiáº¿p phiÃªn báº£n má»›i tá»« website chÃ­nh thá»©c cá»§a Node.js.  
    - **CÃ¡ch 2:** Sá»­ dá»¥ng **NVM (Node Version Manager)**:
      ```bash
      nvm install stable   # CÃ i Ä‘áº·t phiÃªn báº£n Node.js má»›i nháº¥t vÃ  á»•n Ä‘á»‹nh
      nvm use stable       # Sá»­ dá»¥ng phiÃªn báº£n stable
      ```

  - Kiá»ƒm tra cÃ¡c thÆ° viá»‡n (dependencies) Ä‘Ã£ lá»—i thá»i:
    ```bash
    npm outdated
    ```
  - Cáº­p nháº­t táº¥t cáº£ cÃ¡c dependencies lÃªn phiÃªn báº£n má»›i nháº¥t:
    ```bash
    npm update
    ```
  - Cáº­p nháº­t má»™t package quan trá»ng (vÃ­ dá»¥: Express):
    ```bash
    npm install express@latest
    ```

  - Kiá»ƒm tra báº£o máº­t cÃ¡c dependencies:
    ```bash
    npm audit
    npm audit fix
    ```
    > `npm audit` giÃºp phÃ¡t hiá»‡n cÃ¡c lá»— há»•ng báº£o máº­t Ä‘Ã£ biáº¿t trong thÆ° viá»‡n vÃ  tá»± Ä‘á»™ng cáº­p nháº­t náº¿u cÃ³ thá»ƒ.

- **Cáº­p nháº­t á»©ng dá»¥ng vÃ  plugin** âœ…  
  á»¨ng dá»¥ng vÃ  cÃ¡c plugin liÃªn quan Ä‘Æ°á»£c kiá»ƒm tra vÃ  cáº­p nháº­t thÆ°á»ng xuyÃªn nháº±m vÃ¡ lá»—i, cáº£i thiá»‡n hiá»‡u nÄƒng vÃ  Ä‘áº£m báº£o an toÃ n há»‡ thá»‘ng.
   
 + CÃ³ validation cho Ä‘áº§u vÃ o. âœ…
   + Sá»­ dá»¥ng thÆ° viá»‡n Joy Ä‘á»ƒ validation:
   + HÃ¬nh áº£nh minh há»a mÃ£ nguá»“n sá»­ dá»¥ng Joy trong dá»± Ã¡n:
     
    <img width="1915" height="832" alt="image" src="https://github.com/user-attachments/assets/bf59f19d-512c-4a4c-bf18-301d90d5a79d" />
    
 + Quáº£n lÃ½ vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.âœ…
   + Backend Ä‘Æ°á»£c xÃ¢y dá»±ng theo mÃ´ hÃ¬nh **MVC** nháº±m tá»• chá»©c vÃ  quáº£n lÃ½ mÃ£ nguá»“n má»™t cÃ¡ch rÃµ rÃ ng, dá»… báº£o trÃ¬.
   + Há»‡ thá»‘ng sá»­ dá»¥ng **middleware** Ä‘á»ƒ thá»±c hiá»‡n xÃ¡c thá»±c vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.  
   + HÃ¬nh áº£nh minh há»a mÃ£ nguá»“n sá»­ dá»¥ng middleware cho xÃ¡c thá»±c vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.
     
     <img width="1915" height="832" alt="Screenshot 2025-12-20 175016" src="https://github.com/user-attachments/assets/f2c07cb6-e728-4b06-9d8c-b3cc4d534c5c" />
   + HÃ¬nh áº£nh giao diá»‡n **Admin** (quáº£n trá»‹ há»‡ thá»‘ng).
     
     <img width="1919" height="908" alt="image" src="https://github.com/user-attachments/assets/df80e560-fec3-4c00-b530-60f1afa17896" />
     
   + HÃ¬nh áº£nh giao diá»‡n **User** (ngÆ°á»i dÃ¹ng).
     
     <img width="1919" height="963" alt="image" src="https://github.com/user-attachments/assets/17172e52-418c-4dcf-b73a-1919e79bd205" />
     
 + DÃ¹ng há»‡ thá»‘ng ghi log tá»± Ä‘á»™ng. âœ…
   + Sá»­ dá»¥ng thÆ° viá»‡n Winston + Morgan Ä‘á»ƒ ghi log:
   + HÃ¬nh áº£nh minh há»a mÃ£ nguá»“n sá»­ dá»¥ng Winston trong dá»± Ã¡n:
     
    <img width="1919" height="849" alt="image" src="https://github.com/user-attachments/assets/4de5e27a-2e95-44ab-bf24-ebbc4d55ff72" />
    
   + HÃ¬nh áº£nh dÃ¹ng Render Ä‘á»ƒ quan sÃ¡t log Ä‘Æ°á»£c thu tháº­p tá»± Ä‘á»™ng:
     
     <img width="1919" height="967" alt="image" src="https://github.com/user-attachments/assets/495af39b-c3d1-4331-badb-a7688c45a0d3" />
     
 + Káº¿ hoáº¡ch sao lÆ°u vÃ  phá»¥c há»“i dá»¯ liá»‡u. âœ…
   + HÃ¬nh áº£nh sao lÆ°u mÃ£ nguá»“n trÃªn GitHub:
     
   <img width="1902" height="911" alt="Screenshot 2025-12-19 200609" src="https://github.com/user-attachments/assets/c5d91cdb-5179-482c-b611-139cd6d47bc8" />
   
   + HÃ¬nh áº£nh sao lÆ°u dá»¯ liá»‡u trÃªn Cloud (Google Drive):
     
   <img width="1919" height="882" alt="Screenshot 2025-12-19 200522" src="https://github.com/user-attachments/assets/1d5b8352-0445-42a9-b536-9aed3e8289a7" />
   

   
